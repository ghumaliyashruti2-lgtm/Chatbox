{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delete Profile</title>

    <link rel="stylesheet" type="text/css" href="{% static 'css/profile.css' %}">
</head>


<div class="card">
    <div class="close-btn"><a href= "{% url 'my-profile' %}" style="text-decoration:none; color:white;">âœ•</a></div>

    <div class="icon-container">
        <img id="previewImg" class="profile-img"
     src="{% if profile.profile_picture %}
            {{ profile.profile_picture.url }}
          {% else %}
            {% static 'default/user_img.png' %}
          {% endif %}"
     alt="Profile">

    </div>

    <h3>Click on delete for delete your profile</h3>

    <form method="POST">
        {% csrf_token %}

        <!-- Hidden field to indicate delete or not -->
        <input type="hidden" id="delete_flag" name="delete_flag" value="0">

        <!-- DELETE button (only frontend) -->
        <button type="button" class="delete-btn" onclick="deleteImage()">Delete</button>

        <div class="buttons-row">
            <button type="submit" class="save-btn">Save</button>

            <button type="button" class="save-btn" onclick="window.location.href='{% url 'my-profile' %}'">
                Cancel
            </button>
        </div>
    </form>
</div>

<script>
function deleteImage() {
    document.getElementById("previewImg").src = "{% static 'default/user_img.png' %}";
    document.getElementById("delete_flag").value = "1";
}

</script>


</html>
